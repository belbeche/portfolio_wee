{% extends 'base.html.twig' %}

{% block title %}Inscription
{% endblock %}

{% block content %}

	{% if app.user %}

		<div class="px-4 pt-5 my-5 text-center border-bottom">
			<h1 class="display-4 fw-bold text-body-emphasis">Oups, vous êtes déjà connecté !</h1>
			<div class="col-lg-6 mx-auto">
			<p class="lead mb-4">En tant que {{ app.user.userIdentifier }},
			<div class="d-grid gap-2 d-sm-flex justify-content-sm-center mb-5">
				<a href="{{ path('app_logout') }}" class="btn btn-primary btn-lg px-4 me-sm-3">Déconnexion</a>
				<a href="{{ path('front_project') }}" class="btn btn-primary btn-lg px-4 me-sm-3">Voir nos réalisations</a>
			</div>
			</div>
			<div class="overflow-hidden" style="max-height: 30vh;">
			</div>
		</div>

	{% else %}

	<div class="container col-xl-10 col-xxl-8 px-4 py-5">
		<div class="row align-items-center g-lg-5 py-5">
			<div class="col-lg-7 text-center text-lg-start">
				<h1 class="display-4 fw-bold lh-1 mb-3">Inscrivez-vous</h1>
				<p>Afin de suivre la progression de votre demande</p>
				<div class="login">
					<h6>Vous êtes membre ?</h6>
					<p>Connectez-vous-en suivant ce lien <a href="{{ url('app_login') }}">Je me connecte</a>.</p>
					<img src="{{ asset('img/register.png') }}" alt="Inscription ScriptZenIT">
				</div>
			</div>
			<div class="col-md-10 mx-auto col-lg-5">
				{{ form_start(formRegister, {attr: {'class' : 'p-4 p-md-5 border rounded-3 no-validate'}}) }}
					<div>
						<label for="user_nom" class="sr-only">Nom</label>
						{{ form_row(formRegister.nom) }}
						{{ form_errors(formRegister.nom) }}
					</div>
					<div>
						<label for="user_prenom" class="sr-only">Prenom</label>
						{{ form_row(formRegister.prenom) }}
						{{ form_errors(formRegister.prenom) }}
					</div>
					<div>
						<label for="nom" class="sr-only">Civilité (Optionel)</label>
						{{ form_row(formRegister.civility) }}
						{{ form_errors(formRegister.civility) }}
					</div>
					<div>
						<label for="user_email" class="sr-only mb-5">Identifiant de connexion</label>
						{{ form_widget(formRegister.email) }}
						{{ form_errors(formRegister.email) }}
					</div>
					<div>
						{{ form_row(formRegister.checked) }}
						{{ form_errors(formRegister.checked) }}
					</div>
					<p>La sécurité de vos données est notre priorité absolue, et nos applications sont entièrement conformes aux normes de la
					<a href="https://www.cnil.fr/fr/guide-rgpd-du-developpeur">CNIL</a>. Vous avez la possibilité de supprimer vos données instantanément depuis votre espace personnel.</p>
					<div class="container">
						<button id="btn-register" type="submit" class="btn btn-primary">Valider</button>
					</div>
				{{ form_end(formRegister) }}
			</div>
		</div>
	</div>

	{% endif %}

	
{% endblock %}
